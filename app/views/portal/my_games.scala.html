@(gamesList: Set[GameRights])

@import util.Global

@main(Application.getLocalPortal.getLanguageParameter("Meine_Spiele")) {


    <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@Application.getLocalPortal.getPathTo(routes.Portal.uploadGame(Application.getLocalPortal().getId()))" @Html(Application.getLocalPortal.getParameter(Application.getLocalPortal.getContentHtmlId(),"general.speciallinks.attributes").when(Application.getLocalPortal.getParameter(Application.getLocalPortal.getContentHtmlId(),"general.speciallinks.attributes") !=""))>
    @Application.getLocalPortal.getLanguageParameter("Neues_Spiel_erstellen")</a>


    @if(gamesList.isEmpty() == true){
                <br/>
                @Application.getLocalPortal.getLanguageParameter("Du_hast_keine_Spiele")
                <br/>
                
            } else {
                <div class="container" style="margin-top: 10px">
                <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="example">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th class="date-sort">Letztes Update</th>
                            <th>Spieltyp</th>
                            <th class="no-sort">Download</th>
                            <th class="no-sort">Optionen</th>
                            
                                                        <th>Info</th>
                            
                        </tr>
                    </thead>

                    <tbody>


                    @for(a_game <- gamesList){

                        <tr class="gradeA">
                           
                            <td>@a_game.getGame().getName()</td>
                            <td>                            
                            @a_game.getGame().getLastUpdate().format("dd.MM.yyyy HH:mm") </td>
                             <td>                            
                            @a_game.getGame().getType().getName() </td>
                            <td class="center">
                              @if(a_game.getGame().hasFile()){
                            
                            <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@routes.Portal.getGameFile(a_game.getGame().getId())">Download</a>
                           } else { Noch keine XML-Daten }
                           
                           
                            </td>
                            <td class="center"> @if(a_game.getRights() == "write"){
                           
                            	
                            	
                            	
 					 @if(!a_game.getGame().hasGameType()){
 					 	| @Global.securityGuard.hasWriteRightsOnGame(
					Application.getLocalUser(session()), a_game.getGame())

                                <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@Application.getLocalPortal.getPathTo(routes.Portal.editGame(Application.getLocalPortal().getId(),a_game.getGame().getId()))">Editdieren</a>


						} else {
						
						  <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@Application.getLocalPortal.getPathTo(routes.Editor.getEditor(a_game.getGame().getId()))">Editor aufrufen</a>
						  }

                                | <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@Application.getLocalPortal.getPathTo(routes.Portal.gameRightsonPortal(Application.getLocalPortal().getId(),a_game.getGame().getId()))">Administration</a>
								
								 | <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@Application.getLocalPortal.getPathTo(routes.Portal.doCopyGame(Application.getLocalPortal().getId(),a_game.getGame().getId()))">Duplizieren</a>
								
								 	@defining(Application.getLocalPortal.getTemplateServerURLDropSlash){ url1 =>
                            	
                            	@defining(Application.getLocalPortal.getPathTo(routes.Portal.doDeleteGame(Application.getLocalPortal().getId(),a_game.getGame().getId()))){ url2 =>
                        | <a href="javascript:confirm('Wirklich löschen?')?window.location.href = '@url1@url2':void(0);">Löschen</a>
                        }
                        }
                     
@defining(Application.getLocalUser(session())) { user =>



@if(Global.securityGuard.hasAdminRightsOnPortal(user)==true){
	
| <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@Application.getLocalPortal.getPathTo(routes.Portal.addGameTypeFromGame(Application.getLocalPortal().getId(),a_game.getGame().getId()))">In Spieltyp umwandeln</a>
                            	
                            	 }
                            	 
                            	
                            	
                            	
                            	
                            	}
                            	

                            } else {
		Keine Rechte
                            } </td>
                            
                             <td>
                            
                            

@if(!Application.getLocalPortal.hasGameType(a_game.getGame().getType)){ 
	
	
	@if(a_game.getRights() == "write"){
		<a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@routes.Portal.gameRightsonPortal(Application.getLocalPortal().getId(),a_game.getGame().getId())">
		
		}
	
	
	<img src="@Global.SERVER_URL_2@routes.Assets.at("img/symbols/alert.png")" />
	
	@if(a_game.getRights() == "write"){
		</a>
		}
	
	 }
                            
                            
                            @a_game.getGame().getId()</td>
                        </tr>





                    }

                    </tbody>
                </table>
                    </div>
            }


}