@(gamesList: Set[GameRights])

@import util.Global

@main(Application.getLanguage("Meine Spiele")) {

<br/>
<div class="alert alert-danger" style="display:none;">
  <strong>@Application.getLanguage("Achtung!")</strong>@Application.getLanguage("Aktuell kann es auf Grund von Entwicklungsarbeiten zu kurzzeitigen Serverausfällen oder unerwartetem Verhalten kommen.")
</div>

<br/>


    <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@Application.getLocalPortal.getPathTo(routes.Portal.uploadGame(Application.getLocalPortal().getId()))" @Html(Application.getLocalPortal.getParameter(Application.getLocalPortal.getContentHtmlId(),"general.speciallinks.attributes").when(Application.getLocalPortal.getParameter(Application.getLocalPortal.getContentHtmlId(),"general.speciallinks.attributes") !=""))>
    @Application.getLanguage("Neues Spiel erstellen")</a>


    @if(gamesList.isEmpty() == true){
                <br/>
                @Application.getLocalPortal.getLanguageParameter("Du_hast_keine_Spiele")
                <br/>
                
            } else {
                <div class="container" style="margin-top: 10px">
                <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="example">
                    <thead>
                        <tr>
                            <th>@Application.getLanguage("Name")</th>
                            <th class="date-sort">@Application.getLanguage("Letztes Update")</th>
                            <th>@Application.getLanguage("Spieltyp")</th>
                            <th class="no-sort">@Application.getLanguage("Download")</th>
                            <th class="no-sort">@Application.getLanguage("Optionen")</th>
                            
                                                        <th>@Application.getLanguage("Info")</th>
                            
                        </tr>
                    </thead>

                    <tbody>


                    @for(a_game <- gamesList){

                        <tr class="gradeA">
                           
                            <td>@a_game.getGame().getName()</td>
                            <td>                            
                            @a_game.getGame().getLastUpdate().format(Application.getLanguage("dd.MM.yyyy HH:mm")) </td>
                             <td>                            
                         @Application.getLanguage(a_game.getGame().getType().getName()) </td>
                            <td class="center">
                              @if(a_game.getGame().hasFile()){
                            
                            <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@routes.Editor.getXMLForClient(a_game.getGame().getId())">@Application.getLanguage("Download")</a>
                           } else { @Application.getLanguage("Noch keine XML-Daten") }
                           
                           
                            </td>
                            <td class="center"> @if(a_game.getRights() == "write"){
                           
                            	
                            	
                            	
 					 @if(!a_game.getGame().hasGameType()){
 					 	| @Global.securityGuard.hasWriteRightsOnGame(
					Application.getLocalUser(session()), a_game.getGame())

                                <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@Application.getLocalPortal.getPathTo(routes.Portal.editGame(Application.getLocalPortal().getId(),a_game.getGame().getId()))">@Application.getLanguage("Editdieren")</a>


						} else {
						
						  <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@Application.getLocalPortal.getPathTo(routes.Editor.getEditor(a_game.getGame().getId()))">@Application.getLanguage("Editor aufrufen")</a>
						  }

                                | <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@Application.getLocalPortal.getPathTo(routes.Portal.gameRightsonPortal(Application.getLocalPortal().getId(),a_game.getGame().getId()))">@Application.getLanguage("Administration")</a>
								
								 | <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@Application.getLocalPortal.getPathTo(routes.Portal.doCopyGame(Application.getLocalPortal().getId(),a_game.getGame().getId()))">@Application.getLanguage("Duplizieren")</a>
								
								 	@defining(Application.getLocalPortal.getTemplateServerURLDropSlash){ url1 =>
                            	
                            	@defining(Application.getLocalPortal.getPathTo(routes.Portal.doDeleteGame(Application.getLocalPortal().getId(),a_game.getGame().getId()))){ url2 =>
                        | <a href="javascript:confirm('@Application.getLanguage("Wirklich löschen?")')?window.location.href = '@url1@url2':void(0);">@Application.getLanguage("Löschen")</a>
                        }
                        }
                     
@defining(Application.getLocalUser(session())) { user =>



@if(Global.securityGuard.hasAdminRightsOnPortal(user)==true){
	
| <a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@Application.getLocalPortal.getPathTo(routes.Portal.addGameTypeFromGame(Application.getLocalPortal().getId(),a_game.getGame().getId()))">@Application.getLanguage("In Spieltyp umwandeln")</a>
                            	
                            	 }
                            	 
                            	
                            	
                            	
                            	
                            	}
                            	

                            } else {
		@Application.getLanguage("Keine Rechte")
                            } </td>
                            
                             <td>
                            
                            

@if(!Application.getLocalPortal.hasGameType(a_game.getGame().getType)){ 
	
	
	@if(a_game.getRights() == "write"){
		<a href="@Application.getLocalPortal.getTemplateServerURLDropSlash@routes.Portal.gameRightsonPortal(Application.getLocalPortal().getId(),a_game.getGame().getId())">
		
		}
	
	
	<img src="@Global.SERVER_URL_2@routes.Assets.at("img/symbols/alert.png")" />
	
	@if(a_game.getRights() == "write"){
		</a>
		}
	
	 }
                            
                            
                            @a_game.getGame().getId()</td>
                        </tr>





                    }

                    </tbody>
                </table>
                    </div>
            }


}